<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register - Travel with Us</title>
  <link rel="stylesheet" href="css/register.css">
</head>

<body>
  {{>navbar2}}
  <div class="mm2">
    <div class="form-container">
      <h2>Register for Your Tour</h2>
      <form id="registerForm" onsubmit="return validateForm()" action="/registeruser" method="post">
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" name="name" required />
        <div class="error" id="fullnameError">Full Name is required.</div>

        <label for="age">Age</label>
        <input type="number" id="age" name="age" required />
        <div class="error" id="ageError">Please enter a valid age.</div>

        <label for="mobileno">Mobile No</label>
        <input type="tel" id="mobileno" name="mobile" required />
        <div class="error" id="mobileError">Enter a valid 10-digit mobile number.</div>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required />
        <div class="error" id="emailError">Enter a valid email.</div>

        <label for="address">Address</label>
        <textarea id="address" name="address" rows="2" required></textarea>
        <div class="error" id="addressError">Address is required.</div>

        <label for="username">Username</label>
        <input type="text" id="username" name="username" required />
        <div class="error" id="usernameError">Username is required.</div>

        <label for="password">Password</label>
        <input type="password" id="password" name="password" required />
        <div class="error" id="passwordError">Password must be at least 6 characters.</div>

        <button type="submit">Register</button>
      </form>
      <a href="/login">Already Registered</a>
    </div>
  </div>

  <script>
    function validateForm() {
      let valid = true;
      document.querySelectorAll('.error').forEach(e => e.style.display = 'none');

      const fullname = document.getElementById('fullname').value.trim();
      const age = parseInt(document.getElementById('age').value);
      const mobileno = document.getElementById('mobileno').value.trim();
      const email = document.getElementById('email').value.trim();
      const address = document.getElementById('address').value.trim();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;

      if (!fullname) {
        showError('fullnameError');
        valid = false;
      }

      if (!age || age < 1) {
        showError('ageError');
        valid = false;
      }

      if (!/^\d{10}$/.test(mobileno)) {
        showError('mobileError');
        valid = false;
      }

      if (!/\S+@\S+\.\S+/.test(email)) {
        showError('emailError');
        valid = false;
      }

      if (!address) {
        showError('addressError');
        valid = false;
      }

      if (!username) {
        showError('usernameError');
        valid = false;
      }

      if (password.length < 6) {
        showError('passwordError');
        valid = false;
      }

      return valid;
    }

    function showError(id) {
      document.getElementById(id).style.display = 'block';
    }
  </script>

  {{>footer}}

</body>

</html>